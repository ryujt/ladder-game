# Ladder 게임 제품 요구사항 정의서

Ladder 게임은 온라인 환경에서 실시간으로 진행되는 사다리 타기 게임입니다. 본 프로젝트는 React.js를 프론트엔드로 사용하여 구축되며, 참가자들이 지정된 인원 수에 맞춰 입실하고, 결과를 실시간으로 확인할 수 있도록 구현됩니다.

---

## 1. 주요 기능 목록

### 1.1. 사다리 생성
- **참여 인원 수 지정**  
  게임 생성 시 참여할 인원 수를 설정합니다.
- **랜덤 아이디 생성**  
  생성된 사다리는 12자리의 숫자로 구성된 랜덤 아이디를 갖습니다.
- **사다리 생성 API**  
  백엔드에서 사다리 생성 및 관리를 위한 API를 제공합니다.

### 1.2. 입실 및 참가
- **입실 URL**  
  `ladder.tools.camp/랜덤아이디` 형태의 URL로 입실합니다.
- **참가 정보 입력**  
  사용자 이름과 선택 번호를 입력 후 참가 버튼을 클릭합니다.
- **중복 검사**  
  동일한 이름 또는 번호의 중복 참가를 방지합니다.
- **인원 제한 검사**  
  설정된 참여 인원 수를 초과하지 않도록 검사합니다.

### 1.3. 결과 생성 및 확인
- **결과 생성**  
  모든 인원이 참가하면 서버에서 사다리 결과를 생성합니다.
- **결과 API**  
  참가 백엔드 API를 통해 결과를 조회할 수 있습니다.
- **실시간 결과 확인**  
  참가한 사용자는 5초마다 결과 확인 API를 호출하여 최신 결과를 확인합니다.

---

## 2. 시스템 아키텍처

### Frontend
- **React.js 기반 UI**  
  사용자 인터페이스는 React.js로 구축되며, 실시간 폴링 기능(5초 주기)을 통해 결과를 갱신합니다.

### Backend
- **사다리 생성 및 관리 API**  
  사다리 생성, 참가자 정보 처리, 중복 및 인원 제한 검사, 결과 생성 기능을 제공합니다.
- **실시간 결과 업데이트 API**  
  모든 사용자에게 5초마다 최신 결과를 전달할 수 있도록 API가 구현됩니다.

---

## 3. 네비게이션 다이어그램

- **Page:** 주소(route)를 포함하는 페이지  
  - 주소가 없는 컴포넌트는 다이어그램에 포함하지 않습니다.
  - 하나의 페이지는 내부 구성 컴포넌트를 별도로 표시하지 않고 하나의 모듈로 간주합니다.
- **(/api):** API 호출을 나타냅니다.
- **(functionCall):** 함수 호출을 나타냅니다.

### 시나리오 1: 사다리 생성

```navigation
Home --> (/generateLadder) : 참여 인원 수 입력 및 사다리 생성
(/generateLadder) --> Home : error
(/generateLadder) --> LadderCreated : 결과 페이지
```

---

### 시나리오 2: 입실 및 참가 시도

```navigation
LadderJoin --> (/joinAttempt) : 이름 및 선택 번호 입력 후 참가 시도
(/joinAttempt) --> LadderJoin : 중복 또는 인원 초과 시 오류 발생 및 재입력
(/joinAttempt) --> Results : 모든 인원 참가 완료 후 결과 페이지 이동
```

---

### 시나리오 3: 실시간 결과 확인 (정상 참가자)

```navigation
Results --> (/getResult) : 5초마다 결과 확인 API 호출
(/getResult) --> Results : 결과 표시 갱신
```

---

## 4. 화면 구성 (Screen Layout)

* / --> 상하로 나뉨
* | --> 좌우로 나뉨

### 4.1. 사다리 생성 페이지 (Home)
- **입력 요소**  
  - 참여 인원 수 지정 입력란
- **버튼**  
  - 사다리 생성 버튼
- **오류 메시지**
  - 참여 인원 미입력 또는 API 실패 시 오류 메시지 출력

### 4.2. 사다리 생성 결과 페이지 (LadderCreated)
- **결과 표시**  
  - 생성된 사다리의 랜덤 아이디 출력
  - 사다리 참여를 위한 입실 URL 표시 (클릭 시 클립보드로 복사)

### 4.3. 입실 및 참가 페이지 (LadderJoin)
- **URL**  
  - `ladder.tools.camp/랜덤아이디`
- **입력 요소**  
  - 이름 입력란
  - 선택 번호 입력란
- **버튼**  
  - 참가 버튼
- **오류 메시지**  
  - 중복 참가 또는 인원 제한 초과 시 경고 메시지 표시

### 4.4. 결과 확인 페이지 (Results)
- **결과 출력**  
  - 사다리 결과 및 각 참가자의 결과 표시
- **실시간 업데이트**  
  - 5초마다 결과 확인 API를 호출하여 최신 결과를 반영

---

## 5. 기술 스택

- **Frontend**: React.js
- **Backend**: AWS Lambda
- **데이터베이스**: Dynamo DB

---

## 6. Route 설계

* "/": Home
* "/:id": LadderJoin

---

## 7. 부가 기능 및 고려사항

1. 가독성을 우선으로 코드를 작성해줘.
2. 단일 책임 원칙을 적용해서 책임마다 하나의 파일로 분리해서 처리해줘.
3. 분리된 파일들은 직접 참조하지 말고, 이벤트 또는 Store를 통해서 처리해줘.
4. CSS 관련 코드는 별도의 파일로 분리해서 작성해줘.
